[toc]

# 刘德培W25周汇报

## 8936T，内部，fot单备份升级
==========W25==========

### 2025-06-03-周二
1. #100%，解决升级失败问题

## rocket，内部，低温上电pll跑飞问题
==========W25==========

### 2025-06-05-周四
1. #50，定位到pll重启8次都无法恢复正常，ldoh_sel由0到2改成由1到2%，也没用，IC在讨论

## rocket，内部，低温上电pll跑飞问题 确定增加多点打印可以优化的原因
==========W25==========

### 2025-06-06-周五
1. #100%，在关LDO后增加彻底掉电的流程，解决pll异常跑飞的问题
2. #40%，增加10倍delay的时间，可以优化

## rocket，芯启航，单备份升级
==========W25==========

### 2025-06-06-周五
1. #80%，在标准SDK上移植单备份升级，也能复现到升级失败的问题

### 2025-06-05-周四
1. #80%，升级完成后的程序无法正常跑，在标准SDK移植fot升级，排查一下是砍SDK导致的问题

### 2025-06-04-周三
1. #80%，用usbdown可实现单备份升级，连续单备份升级复位问题正在查找原因
2. #70%，解决跳转到mainsdk失败的问题
3. #60%，解决crc错误，在bootsdk的hid发送失败，跳转到mainsdk也失败

### 2025-06-03-周二
1. #50%，在zoom跑通单备份升级功能，在xqh的mcu上移植单备份功能，出现crc错误，在排查中

# 刘德培W24周汇报

## 136D，海凌威，开侦听无法播wav提示音
==========W24==========

### 2025-05-30-周五
1. #100%，客户说播wav时可打断侦听，已沟通修改

## 13X，芯兄弟，PS5默认音量过小 苹果系统无法调节音量
==========W24==========

### 2025-05-29-周四
1. #100，由于PS5只会配置一次音量，而且不好区分PS5%，改成只对Windows和安卓机外的其他主机，上电时手动改一次音量

### 2025-05-28-周三
1. #30%，目前只能区分Windows和Android，其他的暂时无法区分，正在分析不同主机的描述符的区别

## rocket，芯启航，mcu整理优化模块
==========W24==========

### 2025-05-29-周四
1. #100%，串口打印和通信模块化配置
2. #40%，delay优化增加1ms定时器
3. #20%，把初始化和主循环模块化

## rocket，芯启航，mcu砍系统
==========W24==========

### 2025-05-30-周五
1. #100%，不砍系统，在二次boot的基础上开发

### 2025-05-28-周三
1. #70%，砍系统容易遇到报错问题，在最小系统的SDK上优化，再去增加USB的hid回去

### 2025-05-27-周二
1. #60%，在保留hid功能的基础下砍系统，需要保留xcfg和res，在优化二次boot的流程

### 2025-05-26-周一
1. #30%，开始砍系统

## rocket，芯启航，mcu砍系统 把不用的ram和flash回收
==========W24==========

### 2025-05-30-周五
1. #50%，把不用的ram给砍掉了，目前flash大小44KB，flash在砍

## rocket，芯启航，在mcu上增加usb
==========W24==========

### 2025-05-30-周五
1. #100%，暂时不在mcu增加usb了，客户可以用单备份升级，不用砍掉xcfg和res

### 2025-05-29-周四
1. #40%，在标准SDK上提炼最小USB模块
2. #20%，增加USB模块，无法正常使用

## rocket，芯启航，配置触控屏HID
==========W24==========

### 2025-05-26-周一
1. #100%，解决客户手动发数据给usb主机复位问题

## rocket，迈瑞微，内置充电功能
==========W24==========

### 2025-05-26-周一
1. #20%，搭建环境参考SDK充电模块

# 刘德培W23周汇报

## 136D，腾腾高科，欧美规自动切改4V偏置后无法检测拔出
==========W23==========

### 2025-05-24-周六
1. #90%，客户把麦偏置3.3V改成4V之后，需要改阻值，才能判断耳机拔出，否则软件无法区分

## 13X，芯兄弟，PS5默认音量过小
==========W23==========

### 2025-05-20-周二
1. #100%，解决问题，已提交一版发客户，PS5默认上电音量固定33DB且无法调节，增加接口Windows端和移动端外可手动设置到其他音量

### 2025-05-19-周一
1. #60%，复现到问题，在枚举完PS5之后声音变小了，调用音量接口无法回复，对比杰理的描述符差异看看

## 893X，芯兄弟，开ANC有杂音问题出现
==========W23==========

### 2025-05-23-周五
1. #90%，改了测试程序给硬件同事

### 2025-05-22-周四
1. #90%，定位到是第一个麦即MIC2受到外界干扰导致电流杂音产生，让客户硬件改下电路了

### 2025-05-21-周三
1. #70%，在dump着ff麦的数据，在确认是不是surface的充电电流干扰到ff麦，导致电流声

### 2025-05-19-周一
1. #60%，客户在开了ANC之后导不出麦数据，等客户过来或者这边确认一下

## rocket，芯启航，spi细节配置开放
==========W23==========

### 2025-05-20-周二
1. #100%，客户已配置OK

### 2025-05-19-周一
1. #50%，梳理spi各个配置细节，可以开放多个配置给客户，在和客户和IC确认哪些配置不了的选项

## rocket，芯启航，配置触控屏HID
==========W23==========

### 2025-05-24-周六
1. #100%，客户要求主动发送数据给USB主机，测试标准SDK接口可以实现，客户改了报表之后不可实现，待反馈

### 2025-05-23-周五
1. #100%，get_report和set_report都OK了，提交一版待反馈

### 2025-05-22-周四
1. #80%，解决set_report获取的数据不对的问题

### 2025-05-21-周三
1. #70%，修改一版，增加set_report和get_report接口，客户测试待反馈

### 2025-05-20-周二
1. #40%，以开放HID描述符相关配置到应用层，待客户尝试修改反馈

## rocket，迈瑞微，增加依赖浮点库的库
==========W23==========

### 2025-05-19-周一
1. #100%，客户已解决了

# 刘德培W22周汇报

## 13X，煊焕，SD卡和片外flash复用问题
==========W22==========

### 2025-05-12-周一
1. #100%，解决SD卡和片外flash复用异常问题，已寄样机回去

## 893X，耳感，ANC在线调试切界面后调参失效
==========W22==========

### 2025-05-13-周二
1. #100%，客户的anc一个buffer没放到ram里，导致eq配置没更新成功，已更新SDK
2. #30%，复现到问题

## 893X，芯兄弟，开ANC有杂音问题出现
==========W22==========

### 2025-05-13-周二
1. #60%，dump下麦数据出来的代码示例给客户了，等客户反馈

### 2025-05-12-周一
1. #60%，搭建环境导出ANC前后的数据，后面交给客户去复现问题，排查一下电流声的来源

## rocket，内部，esbc_linux编译问题
==========W22==========

### 2025-05-13-周二
1. #75%，Pre_Process这个处理结果是对的

# 刘德培W21周汇报

## 15X，芯燃，片外flash音频快进快退播放接口
==========W21==========

### 2025-05-10-周六
1. #100%，待反馈

### 2025-05-06-周二
1. #80，增加片内flash无缝循环播mp3%，可控制循环次数

## 15X，鲁班，lsbc变速评估
==========W21==========

### 2025-05-07-周三
1. #40%，lsbc解码频繁，时快时慢，在看不变速情况下跑160M的耗时

## 893X，芯兄弟，32bit支持
==========W21==========

### 2025-05-10-周六
1. #100%，待反馈，客户如果能找到全速支持32bit的样机，我们可以看看

### 2025-05-09-周五
1. #50%，无法参考支持32bit的对比样机，客户hp的omen笔记本应该是无法支持全速usb跑32bit，高速的可以，除非客户找到全速也能支持32bit的样机

## 893X，芯兄弟，开ANC有杂音问题出现
==========W21==========

### 2025-05-10-周六
1. #50%，定位到问题，在surface笔记本上，换了新的拾麦腔体之后会出现，在导出麦数据看看

### 2025-05-09-周五
1. #20%，客户带电脑过来复现了问题，需要先排除硬件干扰，明天找硬件同事一起看看

## rocket，byd，后续问题跟进 高温压测上电耗时异常
==========W21==========

### 2025-05-10-周六
1. #100%，待反馈，后面换了压测板高温下没复现问题了

### 2025-05-06-周二
1. #50%，波权在高温下复现上电时间被拉长到几百毫秒甚至几秒时间的问题，怀疑是旧boot里面出现的问题，更新新boot程序看看是否不再复现

## rocket，内部，esbc_linux编译问题
==========W21==========

### 2025-05-09-周五
1. #70%，解决SDK只跑c会异常的问题，Linux端异常需要逐步排查是哪一步编码出现了错误

### 2025-05-08-周四
1. #70%，SDK不跑汇编解码esbc后数据不对，定位到L_mac异常
2. #70%，Linux编码125Hz的正弦波再解码只有62.5Hz，且有杂音

### 2025-05-07-周三
1. #50%，SDK的esbc不跑汇编只跑c编译的结果不一样，Linux的esbc初始化和SDK的不一样

# 刘德培W20周汇报

## 15X，芯燃，片外flash音频快进快退播放接口
==========W20==========

### 2025-04-30-周三
1. #70%，MP3可以按帧和秒快进快退，无缝循环播放
2. #60%，解决切歌之后无法无缝循环播放的问题
3. #60%，解决快进快退并没有改变播放进度条问题

### 2025-04-29-周二
1. #50%，搭建好环境，按帧快进快退OK，按秒快进快退正在测试

## rocket，迈瑞微，主频跑178M至172M稳定性评估
==========W20==========

### 2025-04-30-周三
1. #60%，波权在压测其他任务，暂未压测

### 2025-04-29-周二
1. #60%，已修改一版压测程序，在highband下压测178M直到172M，看是否能稳定跑不跑飞

# 刘德培W19周汇报

## 137A，东之芯，录音杂音问题
==========W19==========

### 2025-04-25-周五
1. #100%，在s385版本改了一版库给客户，反馈OK

### 2025-04-24-周四
1. #90%，提交一版，测试OK

## queen，芯兄弟，增加EQ和DRC
==========W19==========

### 2025-04-22-周二
1. #100%，增加已提交一版，发客户待反馈

## rocket，byd，后续问题跟进 喆岸压测反馈波特率有概率出现偏差
==========W19==========

### 2025-04-24-周四
1. #90%，兼容新旧boot，解决可能会有极小概率读错trim值的问题，在压测中

### 2025-04-22-周二
1. #60%，客户在忙其他问题，未反馈

### 2025-04-21-周一
1. #50%，已发一版测试程序给喆岸的蒙工，待反馈

## rocket，byd，后续问题跟进 在客户模组程序基础上改压测程序去测试
==========W19==========

### 2025-04-22-周二
1. #80%，已改一版压测程序

### 2025-04-21-周一
1. #50%，商讨出压测方案，死机问题先暂停，先在对齐客户模组环境下去压测，目前上电时间没对齐，在和客户要boot的SDK去去掉传感器初始化等代码

## rocket，byd，后续问题跟进 报告整理
==========W19==========

### 2025-04-23-周三
1. #80%，已整理一版，待涛哥整合处一份正式的报告

## rocket，byd，后续问题跟进 读trim值风险评估并排除风险
==========W19==========

### 2025-04-25-周五
1. #100%，压测未发现问题了，已更新一版，整理完报告待审核

## rocket，极海，mcu增加PWRKEY作按键
==========W19==========

### 2025-04-23-周三
1. #80%，提交一版SDK，待发客户测试反馈

# 刘德培W18周汇报

## 8936T，华胜杰，手机兼容性问题 荣耀Play5T手机手机识别不了
==========W18==========

### 2025-04-19-周六
1. #100%，已交给国辉

### 2025-04-14-周一
1. #70%，16个对比样机有5个也识别不了Play5T手机

## rocket，byd，后续问题跟进 1744版本压测低温下pll跑690M异常
==========W18==========

### 2025-04-19-周六
1. #100%，波权测试已反馈测试40颗芯片没复现到问题了

### 2025-04-15-周二
1. #90%，已修改pll的上电顺序，解决pll异常跑太快的问题，已安排压测程序待实验结果，已更新byd和mrw的SDK

### 2025-04-14-周一
1. #60%，一开始定位到1734版本是OK的，还原vddcore增加5个档位也不行，最后发现1734也不行，再定位下其他版本是不是有OK的

## rocket，byd，后续问题跟进 pll跑太快解决后压测有概率出现死机问题
==========W18==========

### 2025-04-16-周三
1. #100%，定位到问题，带晶振下跑不带晶振的模式，在从24m晶振切到rc24m时增加延时500us可解决问题

## rocket，byd，后续问题跟进 写flash会误写到code区导致死机的问题
==========W18==========

### 2025-04-18-周五
1. #100%，在写data区数据为0之前不写flash，压测一天没有发现死机问题

### 2025-04-17-周四
1. #60%，复现到问题，在platform_main里的写flash关掉看看能不能复现到

## talent，内部，增加drc压一下麦底噪
==========W18==========

### 2025-04-18-周五
1. #100%，已提交一版

## talent，内部，增加防啸叫功能
==========W18==========

### 2025-04-17-周四
1. #100%，已提交一版，数据已对齐

### 2025-04-16-周三
1. #70%，增加随机相位OK，移频算法增加后编译报错，已对齐代码，参考SDK不会出错，再看看

### 2025-04-15-周二
1. #40%，搭建好环境，能复现到啸叫情况，开始移植移频和随机相位

### 2025-04-14-周一
1. #30%，开始搭建环境，参考SDK

# 刘德培W17周汇报

## 8936T，华胜杰，手机兼容性问题 荣耀Play5T手机手机识别不了
==========W17==========

### 2025-04-11-周五
1. #50%，对比样机可以识别Play5T，抓了对比样机的USB枚举数据，在对比差异

## rocket，byd，后续问题跟进 低温下有概率多跑10ms及稳定跑90ms问题
==========W17==========

### 2025-04-09-周三
1. #90%，整理好一版测试程序，搞200片进行压测
2. #90%，调低系统时钟超频档位，解决容易导致出现较多问题，上电时间问题在低温下不在复现

### 2025-04-08-周二
1. #80%，系统分频比更新有概率失败更新了一版修改，已解决
2. #80%，波特率偏差问题输出rc24m时钟，稳定后会快30多KHz，90ms问题在输出pll时钟看看重启8次pll是pll数错了还是pll跑偏了

### 2025-04-07-周一
1. #70%，长时间断电后上电的55波特率会出现较大偏差，pll的分频比会反复多次更新，增加延时未能解决，明天和IC看看
2. #50%，多跑10ms问题未复现，稳定跑90ms问题是pll重启了8次，freqdet清pnd之前delay5us可解决

## rocket，byd，后续问题跟进 低温下有概率多跑10ms及稳定跑90ms问题 客户压测结果和我们这边不一样
==========W17==========

### 2025-04-11-周五
1. #100%，和客户沟通发现客户的测试手法不对，已纠正，反馈OK

## rocket，byd，后续问题跟进 低温下有概率多跑10ms及稳定跑90ms问题 整理程序
==========W17==========

### 2025-04-11-周五
1. #100%，整理一份开发板压测程序

### 2025-04-10-周四
1. #100%，反馈90ms问题还在，发现是昨天开发板压测跑不起来，程序恢复注释多加了几行，已提交一版
2. #95%，整理并更新一版程序，安排90ms问题模组新旧程序进行压测给byd

## rocket，内部，指纹模组同步更新
==========W17==========

### 2025-04-10-周四
1. #70%，已同步mrw指纹模组SDK

# 刘德培W16周汇报

## rocket，byd，ADC检测VBAT异常
==========W16==========

### 2025-04-01-周二
1. #100%，提交一版，反馈OK

## rocket，byd，后续问题跟进 低温波特率有概率偏2.3%
==========W16==========

### 2025-04-01-周二
1. #50%，反馈低温上电有概率跑到145ms，明天出差看看
2. #50%，暂时定位是rc24m的温漂导致的

## rocket，byd，后续问题跟进 出差 上电耗时超过100ms
==========W16==========

### 2025-04-03-周四
1. #90%，有几颗模组稳定出现耗时在90ms左右，比正常的70~80ms多10ms多，已带回公司进一步分析
2. #90%，压测了7颗模组，上电时长没有超过100ms了，但有概率出现增加10个ms耗时的情况，只有一个模组出现过1次

### 2025-04-02-周三
1. #60%，定位到导致上电耗时太长的原因，系统时钟有概率从160M降到48M，原因是分频比有概率没有更新成功

## rocket，byd，后续问题跟进 结合测试数据优化细节
==========W16==========

### 2025-04-06-周日
1. #90%，将trim时钟前的时钟改为rc2m，以防出现跑飞的问题，但压测依旧出现一颗芯片出现了一次跑飞现象

### 2025-03-31-周一
1. #90%，高温测试发现有程序跑飞的问题，概率不大，在增加下log代码，去定位一下具体跑飞的位置
2. #90%，改好一版测试程序，解决pll重启问题
3. #90%，上电耗时长的问题，今天发了一版给客户

# 刘德培W15周汇报

## 8936T，华胜杰，增加新的需求 录音不录混响
==========W15==========

### 2025-03-28-周五
1. #100%，增加是否使能麦上传录音数据只过dnn降噪算法，否则录音数据会过其他已开启的算法

## 8936T，华胜杰，手机兼容性问题 荣耀Play5T手机手机识别不了
==========W15==========

### 2025-03-28-周五
1. #40%，已和客户沟通，并未复现到问题，客户今晚寄能复现问题的两台手机过来

## rocket，byd，后续问题跟进 pll有概率跑飞问题
==========W15==========

### 2025-03-26-周三
1. #100%，byd的指纹模组更新好一版程序，在常温下上电时间控制在84ms，看看低温能否复现客户上电耗时在100多毫秒的现象
2. #100%，弄好测试程序给波权，上电反复trim时钟，若出现pll异常且pll重启的情况，则挑出来，分析并完善pll流程代码
3. 95%，解决反复trim时钟后出现上电时间变长且pll时钟检测不准问题，已解决

### 2025-03-25-周二
1. #90%，优化过后在常温下客户样机正常上电，到发55的时间控制在100ms以内，解决遇到反复trim时钟会跑飞的问题

### 2025-03-24-周一
1. #80%，整理一版完整流程的程序，客户问题样机可以在不重启pll的情况下正常上电，需要优化一下重启pll的时间

## rocket，byd，后续问题跟进 rc24m有概率出现两个频率
==========W15==========

### 2025-03-26-周三
1. #100%，合并rc24m和pll为一个测试程序给波权测试
2. #100%，弄好测试程序给波权，频繁重启rc24m，找到rc24m出现两个频点的芯片

### 2025-03-25-周二
1. #80%，SDK上电多次重启rc24m并用rc2m去数它，最后确保它处在大概率出现的频率，已同步到样机和烧录器那边

### 2025-03-24-周一
1. #60%，在trimpll之前先检测rc24m是否出现两个频点，rc2m数rc24m的时间过长，需要优化

## rocket，byd，后续问题跟进 结合测试数据优化细节
==========W15==========

### 2025-03-28-周五
1. #80%，低温下上电测试耗时，没有出现耗时超过100ms的情况，客户增加其他波特率下测试，等低温环境

### 2025-03-27-周四
1. #50%，确认一版程序，两个指纹模组常温下上电耗时70ms，明天放低温箱测试看看耗时
2. #50%，解决若反复trim时钟大概率跑飞的问题，解决正常芯片rc24m会误筛的问题

## rocket，迈瑞微，增加flash读容量接口
==========W15==========

### 2025-03-25-周二
1. #100%，更新一版发客户，待反馈

## rocket，魔力，fpm增加I2C和系统 增加并发布一版带I2C的SDK
==========W15==========

### 2025-03-27-周四
1. #90%，移植trunk的i2c，同步byd的mcu修改，发布一版给客户，待反馈

# 刘德培W14周汇报

## rocket，byd，后续问题跟进
==========W14==========

### 2025-03-21-周五
1. #90%，优化上电检测rc24m和pll的流程，在20ms内只能重启4次pll，在优化时间

### 2025-03-20-周四
1. #90%，配合波权修改测试程序，增加LDOH档位，解决pll有概率跑不到520M的问题，并且针对pll有概率跑飞问题，在烧录器和SDK端都做一下筛选机制，在整理代码中

### 2025-03-18-周二
1. #80%，优化上电时间129ms到80ms，待增加校验pll实际是否跑对了

### 2025-03-17-周一
1. #70%，低温上电时间长的问题，找到原因，在pll跑不到480M的情况下，重新trim的过程花费时间过程，在精简这个过程，优化时间

## rocket，byd，后续问题跟进 pll有概率跑飞问题
==========W14==========

### 2025-03-22-周六
1. #70%，增加了pll纠正代码，在这之前增加了重启pll的操作，客户样机在20ms内能重启4,5次，在优化这部分代码过程中，遇到检测pll不准的问题（已解决）

## rocket，byd，后续问题跟进 rc24m有概率出现两个频率
==========W14==========

### 2025-03-22-周六
1. #40%，IC同事给出rc2m去数rc24m，判断rc24m是否出现第二个频点的问题，暂未开始实现代码

## rocket，byd，后续问题跟进 检测pll不准的问题
==========W14==========

### 2025-03-22-周六
1. #100%，解决，初次trimband默认lowband下找pll，找不到则在highband下找，重启pll时反过来

## rocket，byd，增加低电量检测
==========W14==========

### 2025-03-20-周四
1. #100%，提交一版，发客户

# 刘德培W13周汇报

## 13X，海勤，侦听音量加减杂音
==========W13==========

### 2025-03-11-周二
1. #100%，提交一版，在开侦听下发送hid客户可控制不复位麦

## 13X，海勤，通话rgb灯乱闪问题
==========W13==========

### 2025-03-10-周一
1. #100%，解决通话rgb灯乱闪问题

## 8936T，内部，测试并更新一版SDK
==========W13==========

### 2025-03-12-周三
1. #60%，测到麦录音有掉点杂音问题，其他地方暂时没发现问题

## 8936T，华胜杰，KTV音效有嘶嘶声底噪
==========W13==========

### 2025-03-14-周五
1. #100%，发客户SDK，待反馈

## 8936T，腾腾高科，录音音效和耳返效果问题
==========W13==========

### 2025-03-14-周五
1. #100%，更新16k的dnn算法，优化了30%的时间，发客户SDK，同时剩下其他问题也和滕工对齐了，待反馈

### 2025-03-13-周四
1. #70%，解决苹果手机开不了侦听问题，最后剩下有些DAC音效无法开dnn降噪导致杂音明显问题，挪了新的dnn算法耗时更多，在排查对cmodel数据

### 2025-03-12-周三
1. #60，解决问题1%，更新到最新版给客户，待反馈

### 2025-03-11-周二
1. #40%，问题2和3找到怀疑点，明天和客户确认下

## yonex，世冠通，mp3切midi杂音
==========W13==========

### 2025-03-14-周五
1. #100%，撤销修改，会引发其他复位等问题……

### 2025-03-11-周二
1. #90%，解决mp3切midi杂音问题，提交一版，但是上电不久会出现切换异常的问题

### 2025-03-10-周一
1. #80%，分析到切换杂音是在切换采样率时SDDACCON[0]这一位的变化导致的，早期版本也会，在等IC同事确认中

# 刘德培W12周汇报

## 155D，鲁班，片外flash的lsbc无法播放
==========W12==========

### 2025-03-07-周五
1. #100%，提交一版，发客户待反馈

## 15X，中科世为，增加UART升级UPD功能
==========W12==========

### 2025-03-03-周一
1. #100%，关闭updater打印，提交一版，发客户
2. #95%，优化打印提示
3. #90%，解决对齐svn修改升级一半失败的问题

## 15X，中科世为，增加UART升级UPD功能 客户反馈跟进
==========W12==========

### 2025-03-08-周六
1. #100%，客户反馈OK了

### 2025-03-04-周二
1. #40%，客户反馈从机一直发送相同数据，跟进中

## epic，智旭，gamepad反馈问题跟进
==========W12==========

### 2025-03-05-周三
1. #100%，客户128Kflash改256Kflash，修改CRC工具，发客户一版

## rocket，byd，pll跑520M良率太低问题
==========W12==========

### 2025-03-03-周一
1. #80%，虽然pll跑不到520M的芯片能覆盖客户系统时钟要求，但是IC同事说有很大风险，不良率暂时降不下去了

## rocket，魔力，fpm增加I2C和系统
==========W12==========

### 2025-03-05-周三
1. #80%，能正常相互跳转boot和app

### 2025-03-04-周二
1. #70%，砍蓝牙等库，砍xcfg和res，可以从boot跳转到mcu，但是跳转会boot会报CRC错误，在排查中
2. #50%，软硬件iic测试都是OK的，可以给客户测试

### 2025-03-03-周一
1. #30%，开始搭建环境修改trunk代码测试I2C软硬件模块功能

## rocket，魔力，fpm增加I2C和系统 优化boot的代码以整合带系统的app
==========W12==========

### 2025-03-06-周四
1. #50%，增加boot打印，在整理应用层接口中，优化定时器delay精度

## yonex，世冠通，mp3切midi杂音
==========W12==========

### 2025-03-07-周五
1. #70%，淡入淡出甚至置零都有杂音，MP3和midi切换时有杂音，早期版本613也有此问题，不过最新版777单独播MP3开头和末尾都有杂音

### 2025-03-06-周四
1. #60%，dump数据发现推空了，减小切换时间间隙依然存在杂音，手动推正弦波也能复现，在增加下数字淡入淡出看看

## yonex，辰威，拨动开关唤醒GPIOB关机后立刻唤醒问题
==========W12==========

### 2025-03-06-周四
1. #100%，修改一版代码，测试OK，已发客户

# 刘德培W11周汇报

## 13X，内部，主机端调节音量或播放暂停会有po声
==========W11==========

### 2025-03-01-周六
1. #100%，回复客户这边测试对比样机等情况，都有拖动音量条时下行出现杂音的问题，在开启音量均衡时更加明显，关闭则好一点

### 2025-02-25-周二
1. #80%，回滚的版本都有这个问题，893X也有，对比耳机发现三款耳机虽然在播放暂停时也有杂音，但是拖动音量条时不会有杂音，测试发现关闭左右均衡使能之后，改变音量的杂音会小一点

## 15X，中科世为，增加UART升级UPD功能
==========W11==========

### 2025-02-27-周四
1. #90%，解决跳转到updater之后，报错，复位等问题，可以作为从机正常升级

### 2025-02-26-周三
1. #80%，砍updater的ram空间，调整ram的分配，解决跳转报错问题，现在能正常跳转到updater，正常打印

### 2025-02-25-周二
1. #70%，移植完串口升级从机代码，ram不够，跳转到updater.bin的代码复位

### 2025-02-24-周一
1. #60%，把13x的串口升级从机模式代码移植到yonex，串口模块和pll模块配置差异较大，编译报错，在对比中

## 8936T，中芯龙，微信通话模糊不清
==========W11==========

### 2025-02-28-周五
1. #100%，复现问题，单独录音是OK的，同时下行时录音会掉点，最后把USB_ISOIN_SIZE改成576之后OK了

## rocket，迈瑞微，反馈问题跟进
==========W11==========

### 2025-03-01-周六
1. #100%，客户反馈OK了

### 2025-02-28-周五
1. #50%，解决带晶振第二次串口初始化后串口波特率偏差异常的问题

# 刘德培W10周汇报

## 13X，腾腾高科，实际音量对不上设置音量等问题
==========W10==========

### 2025-02-21-周五
1. #80%，淡入OK了，淡出还有概率杂音

### 2025-02-20-周四
1. #50%，暂停播放音乐会有掉点杂音问题，尝试在rx_data函数判断并增加淡出淡入处理，淡入有0.1秒是静音数据，淡出不那么好及时判断
2. #40%，已提交一版，解决上电默认音量75%实际并不起效的问题

## 15X，中科世为，增加UART升级UPD功能
==========W10==========

### 2025-02-19-周三
1. #60%，解决13X升级失败的问题，在移植代码中

## 893X，中心龙，增加192K16bit麦采样和混响效果 24bit复位
==========W10==========

### 2025-02-19-周三
1. #100%，提交一版，解决复位，杂音，上电无法开麦等问题

### 2025-02-18-周二
1. #80%，上电可以手动开麦，剩下两个问题，开头一两秒杂音，可以侦听但无法录音
2. #60%，解决复位问题，强制改DAC跑单声道下，192K24bit单声道的麦可以跑音效算法，上电只能被动等待主机下发开麦命令，无法手动开启

### 2025-02-17-周一
1. #30%，复现到问题，在开24bit后开麦音效会跑不过来，会看门狗复位

## rocket，byd，1690串口波特率偏差0.13
==========W10==========

### 2025-02-18-周二
1. #100%，解决问题，提交一版，发客户待反馈

# 刘德培W09周汇报

## 15X，中科世为，增加UART升级UPD功能
==========W09==========

### 2025-02-14-周五
1. #50%，搭建13X串口升级环境，遇到升级一半失败的问题，在定位问题中

### 2025-02-13-周四
1. #30%，移植串口升级从机程序，测试中

## 893X，内部，192K24bit单声道麦支持
==========W09==========

### 2025-02-12-周三
1. #100%，客户寄来样机，扬声器不用96K，麦能跑192K24bit，解决录音掉点杂音问题，更新一版给客户了

### 2025-02-11-周二
1. #90%，UAC2.0一整块默认配置，不好改采样率，在让客户寄支持192K24bit的样机过来

### 2025-02-10-周一
1. #90%，还原多个早期版本跑192K24bit都不能与dac同时跑，确定UAC1.0不支持192K24bit，UAC2.0在新版暂不支持采样率修改，在修改中

## rocket，byd，1690串口波特率偏差0.13
==========W09==========

### 2025-02-15-周六
1. #100%，解决问题，提交一版，发客户待反馈

## rocket，迈瑞微，同步byd修改
==========W09==========

### 2025-02-12-周三
1. #100%，修复定时器定时不准的问题

### 2025-02-11-周二
1. #100%，验证OK，提交一版

### 2025-02-10-周一
1. #50%，移植代码验证中

## rocket，魔力，boot跳mcu改192M

==========W09==========

### 2025-02-13-周四
1. #100%，配置给到192M系统时钟，验证能正常跑192M，提交一版

### 2025-02-12-周三
1. #50%，192M默认3分频pll跑不了这么高，pll校正需要修改自适应到2分频

# 刘德培W08周汇报

## 15X，内部，mp3切midi播放变成杂音
==========W08==========

### 2025-02-05-周三
1. #100%，解决MP3切midi播放杂音问题

## 893X，内部，192K24bit单声道麦支持
==========W08==========

### 2025-02-08-周六
1. #80%，目前最新版192K24bit录音不能和下行同时进行，定位到9400也有问题，目前在看6758，麦只开24bit能识别，但是录不了音

### 2025-02-07-周五
1. #70%，192K支持24bit，但存在切换切换采样位数后录音杂音，以及只能单独开启192K才能支持192K的问题

### 2025-02-06-周四
1. #30%，24bit麦存在复位问题，增加修改待测试验证

## 893X，内部，24bitmic异常s6065版本才正常
==========W08==========

### 2025-02-07-周五
1. #100%，解决开24bit麦无法录音问题

### 2025-02-06-周四
1. #60%，最新版UAC_CFG_TYPE_4在开24bit麦后录音会复位
2. 100%，对比后把bAlternateSetting从1改回2则正常了，提交一版
3. #30%，定位到UAC_DESC_SEL选UAC_CFG_TYPE_5改成4正常

## 893X，内部，24和16bit相互切换后录音变杂音
==========W08==========

### 2025-02-07-周五
1. #30%，定位到6109是OK的

# 刘德培W06周汇报

## 893X，中心龙，增加192K16bit麦采样和混响效果 从5712C迁移到8936T
==========W06==========

### 2025-01-21-周二
1. #100%，迁移5712C的相关功能到8936T，解决上电不识别的问题，麦实现192K16bit，提交一版给客户，待反馈

## 893X，中心龙，增加192K16bit麦采样和混响效果 录音杂音问题
==========W06==========

### 2025-01-20-周一
1. #100%，解决录音杂音问题，但是客户5712C芯片不支持HIRES，客户8936T板子明天才到，先增加麦的192K

# 刘德培W05周汇报

## 137A，荣源，录音提前松开按键末尾有杂音
==========W05==========

### 2025-01-13-周一
1. #60%，解决录完音播第一遍末尾容易出现明显杂音的问题，定位到第二遍及以后开头容易存在小杂音问题定位到是mp2的解码异常导致的，crown的正常，mp2算法移过去之后crown也有小杂音问题
2. 40%，修改后只播一遍的结果是对的，循环播放就会在末尾出现杂音

## 137A，荣源，录音提前松开按键末尾有杂音 细听还有杂音
==========W05==========

### 2025-01-15-周三
1. #100%，增加淡出，解决录音时长很短时的异常问题
2. #50%，提高mute参数的精度，解决淡入杂音问题

## 889R，byd，有一颗芯片0.20概率上电偏差0.05 自动识别boot版本
==========W05==========

### 2025-01-17-周五
1. #100%，提交一版可以正常识别boot版本，客户不用手动改

## 893X，中心龙，增加192K16bit麦采样和混响效果
==========W05==========

### 2025-01-17-周五
1. #100%，解决有概率复位的问题，在关掉buck后，vddcore加档太高可能不稳定导致跑160M不稳定而复位

### 2025-01-16-周四
1. #90%，提交一版关掉dnn算法固定麦16K采样率，在客户样机上测试录音耳返都正常，但会有概率会莫名复位问题
2. #50%，在开发板上复现到开关掉buck后上电会复位

# 刘德培W04周汇报

## 889R，byd，有一颗芯片0.20概率上电偏差0.05 pll防跑飞优化
==========W04==========

### 2025-01-08-周三
1. #100%，默认串口参考rc24m的1分频，delay延时更加准确
2. #100%，提交一版，当pll能出现在300M~600M，就能尝试救一下

### 2025-01-07-周二
1. #90%，在正常芯片上，手动制造错误，验证pll出错时的校验，只要pll在300M~540M能跑，就可以救一下

### 2025-01-06-周一
1. #80%，正在写代码并验证可行性：当pll出现异常时，重启pll，重新trim一下，若干次都不行时的处理方案
2. #70%，解决freqdetcnt数pll和sysclk时钟偏大的问题

## 889R，byd，有一颗芯片0.20概率上电偏差0.05 只改app不改boot
==========W04==========

### 2025-01-09-周四
1. #100%，兼顾旧版本的boot改了一版app，并更新了两个更新方案的客户文档

## rocket，内部，省晶振
==========W04==========

### 2025-01-10-周五
1. #100%，解决省晶振上电打印乱码，pll跑不到准确的491.52M的问题

### 2025-01-09-周四
1. #50%，已实现省晶振上电，上电后打印乱码

# 刘德培W03周汇报

## 889R，byd，有一颗芯片0.20概率上电偏差0.05 pll防跑飞优化
==========W03==========

### 2025-01-03-周五
1. #60%，增加用rc24m的freqdet去数pll，发现数出来的pll频率比实际的大很多，交给IC处理中
2. #50%，解决每次烧录需要完全断电的问题

### 2025-01-02-周四
1. #40%，和IC讨论出一个优化方案

## 889R，byd，有一颗芯片0.20概率上电偏差0.05 复现pll概率异常现象
==========W03==========

### 2025-01-02-周四
1. #80%，已复现4次，sys_clk异常导致串口波特率异常，复现概率太低了，暂时先不管

## 889R，byd，有一颗芯片0.20概率上电偏差0.05 总结报告
==========W03==========

### 2024-12-30-周一
1. #50%，完成初稿，给承金补充和修改来

## 889R，byd，有一颗芯片0.20概率上电偏差0.05 搭建环境复现pll概率异常给雪松测试
==========W03==========

### 2024-12-31-周二
1. #100%，已完成，但未复现到问题，另外一颗样机取芯片焊到开发板上也未复现到问题

# 刘德培W02周汇报

## 889R，byd，有一颗芯片0.20概率上电偏差0.05
==========W02==========

### 2024-12-28-周六
1. #100%，和客户继续测试，挑选4颗pll异常样机和正常样机带回来进一步测试，增加串口异步波特率高速支持，待提交

### 2024-12-27-周五
1. #90%，新方案200颗芯片测出一颗异常，查到最后发现是smart芯片，乌龙

### 2024-12-26-周四
1. #80%，制定异步uart方案，解决串口波特率因pll概率异常而偏差异常，导致通信异常问题

### 2024-12-25-周三
1. #50%，提交一版软件修改，解决客户寄来样机的问题，给到客户那边发现是不同的另一个问题，明天过去客户那边看看

### 2024-12-24-周二
1. #90%，软件可以补救一些异常的芯片，在修改种，增加了烧录器筛选异常片的判断条件，明天整理一下给客户

### 2024-12-23-周一
1. #%80%，定位到trim band时，pll0的频率随着band增加先增后减，最高点依旧比目标值小，测试开发板正常芯片都是单调递增

## 8936T，富友昌，4线耳机通话回声问题
==========W02==========

### 2024-12-25-周三
1. #50%，客户的样机PB2被R-和L-短接了，开发板测试PF0断开ADKEY可以dump数据出来，客户改软硬件dump数据有干扰，不能被解析出来

# 刘德培W01周汇报

## 13X，凯利诺，PS4拔插3.5mm耳机会重新枚举一次
==========W01==========

### 2024-12-19-周四
1. #100%，确认了一版硬件优化方案，150次拔插耳机不复现问题

### 2024-12-18-周三
1. #70%，华德改了一版硬件，好很多了，进一步确定看看

### 2024-12-17-周二
1. #70%，DP改成外强上拉，使能USB驱动能力也不行
2. #70%，把遥感的功能在上电5秒之后关闭，为改善
3. #70%，华德改了一版，说好久没复现，我去10秒复现了两次

### 2024-12-16-周一
1. #70%，和华德测试了4种修改方案，均未改善

## 15X，辰威，mp3和midi切换播放声音异常
==========W01==========

### 2024-12-19-周四
1. #100%，提交一版，解决mp3切midi播放无声的问题
2. #80%，在切换时增加20ms的延时可以解决问题，具体原因还在分析中

### 2024-12-18-周三
1. #70%，测试发现同一首midi出现两种不同的包络状态，在分析排查代码中
2. #50%，在旧的697版本也复现到问题

### 2024-12-17-周二
1. #50%，复现到问题

## 15X，辰威，两路wav叠加播放
==========W01==========

### 2024-12-17-周二
1. #100%，编写自定义表格叠加播放以及两路wav叠加播放的使用说明

### 2024-12-16-周一
1. #100%，提交一版SDK，默认关闭wav_2功能
2. #50%，在不开wav_2时，wav_2的ram占用降到最小
3. #30%，解决ram不够只能播放两种音频的问题

## 889R，byd，有一颗芯片0.20概率上电偏差0.05
==========W01==========

### 2024-12-19-周四
1. #50%，客户芯片已损坏，无法升级app也无法烧录boot程序，等客户寄来另一颗芯片继续看看

### 2024-12-18-周三
1. #50%，烧录boot烧录不进去，交给烨培看看，解决完才能继续修改代码测试时钟
2. #40%，搭建环境，复现到问题

## 8936T，内部，fot单备份升级
==========W01==========

### 2024-12-20-周五
1. #95%，两个工程都可使能用单备份升级功能，userboot和main SDK编译大小相近，userboot客户可手动将res全部删除以减小程序大小
2. 90%，通过增加结构体成员控制是否记录res起始地址到0x1000地址
3. 85%，预防记录到0x1000的起始地址出错导致无法跳转到主程序的问题
4. 80%，解决app和res大小变化导致无法单备份升级的问题
5. 75%，解决单备份升级擦除后userboot被擦除的问题
6. 70%，可以正常从userboot跳转到main SDK了
7. 65%，userboot里不会保CRC错误了
8. 60%，先增加宏定义，修改app.xm，setuserboot会爆res的CRC错误

### 2024-12-19-周四
1. #60%，整理代码中，因为user_boot和main_sdk共用固定的xcfg配置，所以用一个总宏两个分宏分开控制

### 2024-12-17-周二
1. #50%，单备份升级的userboot的SDK和main-SDK不分支处理

## 8936T，内部，微信去电近端有严重popo声
==========W01==========

### 2024-12-16-周一
1. #50%，trim一下芯片，微信去电未听见杂音，给到华哥测试

# 20241216周一算W1
